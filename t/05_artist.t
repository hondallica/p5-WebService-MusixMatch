use strict;
use Test::More 0.98;
use Test::Mock::Furl;
use WebService::MusixMatch;
use Data::Dumper;


my $content_type = ['content-type' => 'application/json'];

my $artist_get_response = q|{"message":{"header":{"status_code":200,"execute_time":0.18495512008667},"body":{"artist":{"artist_id":64,"artist_mbid":"65f4f0c5-ef9e-490c-aee3-909e7ae6b2ab","artist_name":"Metallica","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30e1\u30bf\u30ea\u30ab"}},{"artist_name_translation":{"language":"KO","translation":"\uba54\ud0c8\ub9ac\uce74"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30e1\u30bf\u30ea\u30ab"},{"artist_alias":"\uba54\ud0c8\ub9ac\uce74"},{"artist_alias":"Metallica"},{"artist_alias":"Metalica"}],"artist_rating":93,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}},{"music_genre":{"music_genre_id":50000061,"music_genre_parent_id":34,"music_genre_name":"Spoken Word","music_genre_name_extended":"Spoken Word","music_genre_vanity":"Spoken-Word"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/metallica","artist_vanity_id":"Metallica","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:50Z"}}}}|;
my $artist_search_response = q|{"message":{"header":{"status_code":200,"execute_time":0.071051120758057,"available":64},"body":{"artist_list":[{"artist":{"artist_id":64,"artist_mbid":"65f4f0c5-ef9e-490c-aee3-909e7ae6b2ab","artist_name":"Metallica","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30e1\u30bf\u30ea\u30ab"}},{"artist_name_translation":{"language":"KO","translation":"\uba54\ud0c8\ub9ac\uce74"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30e1\u30bf\u30ea\u30ab"},{"artist_alias":"\uba54\ud0c8\ub9ac\uce74"},{"artist_alias":"Metallica"},{"artist_alias":"Metalica"}],"artist_rating":93,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}},{"music_genre":{"music_genre_id":50000061,"music_genre_parent_id":34,"music_genre_name":"Spoken Word","music_genre_name_extended":"Spoken Word","music_genre_vanity":"Spoken-Word"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/metallica","artist_vanity_id":"Metallica","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:50Z"}},{"artist":{"artist_id":24564174,"artist_mbid":"","artist_name":"Metallica Tribute Band","artist_name_translation_list":[],"artist_comment":"","artist_country":"","artist_alias_list":[],"artist_rating":26,"primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Metallica-Tribute-Band","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica-Tribute-Band?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-10-04T09:54:38Z"}},{"artist":{"artist_id":24450890,"artist_mbid":"","artist_name":"Metallica, Michael Kamen & San Francisco Symphony","artist_name_translation_list":[],"artist_comment":"","artist_country":"","artist_alias_list":[],"artist_rating":14,"primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Metallica-Michael-Kamen-San-Francisco-Symphony","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica-Michael-Kamen-San-Francisco-Symphony?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[{"artist":{"artist_id":64,"artist_mbid":"65f4f0c5-ef9e-490c-aee3-909e7ae6b2ab","artist_name":"Metallica","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30e1\u30bf\u30ea\u30ab"}},{"artist_name_translation":{"language":"KO","translation":"\uba54\ud0c8\ub9ac\uce74"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30e1\u30bf\u30ea\u30ab"},{"artist_alias":"\uba54\ud0c8\ub9ac\uce74"},{"artist_alias":"Metallica"},{"artist_alias":"Metalica"}],"artist_rating":93,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}},{"music_genre":{"music_genre_id":50000061,"music_genre_parent_id":34,"music_genre_name":"Spoken Word","music_genre_name_extended":"Spoken Word","music_genre_vanity":"Spoken-Word"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/metallica","artist_vanity_id":"Metallica","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:50Z"}},{"artist":{"artist_id":10809,"artist_mbid":"adcc6c98-0bf1-4d54-84aa-2249cf5e46bf","artist_name":"Michael Kamen","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30de\u30a4\u30b1\u30eb\u30fb\u30b1\u30a4\u30e1\u30f3"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30de\u30a4\u30b1\u30eb\u30fb\u30b1\u30a4\u30e1\u30f3"},{"artist_alias":"Michael Kamen"},{"artist_alias":"Michael Arnold Kamen"},{"artist_alias":"Micheal Kamen"},{"artist_alias":"Michael Kaman"}],"artist_rating":34,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":16,"music_genre_parent_id":34,"music_genre_name":"Soundtrack","music_genre_name_extended":"Soundtrack","music_genre_vanity":"Soundtrack"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Michael-Kamen","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Michael-Kamen?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:25:10Z"}},{"artist":{"artist_id":59891,"artist_mbid":"deebc49a-6e06-418e-860f-8c7f770a8bac","artist_name":"San Francisco Symphony","artist_name_translation_list":[],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"San Francisco Symphony Orchestra"}],"artist_rating":37,"primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"San-Francisco-Symphony","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/San-Francisco-Symphony?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2014-03-24T10:10:10Z"}}]},"updated_time":"2013-09-17T17:44:26Z"}},{"artist":{"artist_id":24450867,"artist_mbid":"","artist_name":"Metallica & Marianne Faithfull","artist_name_translation_list":[],"artist_comment":"","artist_country":"","artist_alias_list":[],"artist_rating":9,"primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Metallica-Marianne-Faithfull","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica-Marianne-Faithfull?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[{"artist":{"artist_id":64,"artist_mbid":"65f4f0c5-ef9e-490c-aee3-909e7ae6b2ab","artist_name":"Metallica","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30e1\u30bf\u30ea\u30ab"}},{"artist_name_translation":{"language":"KO","translation":"\uba54\ud0c8\ub9ac\uce74"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30e1\u30bf\u30ea\u30ab"},{"artist_alias":"\uba54\ud0c8\ub9ac\uce74"},{"artist_alias":"Metallica"},{"artist_alias":"Metalica"}],"artist_rating":93,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}},{"music_genre":{"music_genre_id":50000061,"music_genre_parent_id":34,"music_genre_name":"Spoken Word","music_genre_name_extended":"Spoken Word","music_genre_vanity":"Spoken-Word"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/metallica","artist_vanity_id":"Metallica","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:50Z"}},{"artist":{"artist_id":9319,"artist_mbid":"14ed9dea-1bb0-4743-ba32-39674a71da89","artist_name":"Marianne Faithfull","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30de\u30ea\u30a2\u30f3\u30cc\u30fb\u30d5\u30a7\u30a4\u30b9\u30d5\u30eb"}}],"artist_comment":"","artist_country":"GB","artist_alias_list":[{"artist_alias":"\u30de\u30ea\u30a2\u30f3\u30cc\u30fb\u30d5\u30a7\u30a4\u30b9\u30d5\u30eb"},{"artist_alias":"Marianne Faithfull"},{"artist_alias":"Marianne Evelyn Faithfull"},{"artist_alias":"Marianne Faithfull's"},{"artist_alias":"Marianne Faithful"},{"artist_alias":"Marianne Failthful"}],"artist_rating":40,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Marianne-Faithfull","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Marianne-Faithfull?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:25:08Z"}}]},"updated_time":"2013-09-17T17:41:29Z"}},{"artist":{"artist_id":26727373,"artist_mbid":"","artist_name":"Metallica & Lang Lang","artist_name_translation_list":[],"artist_comment":"","artist_country":"","artist_alias_list":[],"artist_rating":16,"primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Metallica-Lang-Lang","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica-Lang-Lang?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[{"artist":{"artist_id":64,"artist_mbid":"65f4f0c5-ef9e-490c-aee3-909e7ae6b2ab","artist_name":"Metallica","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30e1\u30bf\u30ea\u30ab"}},{"artist_name_translation":{"language":"KO","translation":"\uba54\ud0c8\ub9ac\uce74"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30e1\u30bf\u30ea\u30ab"},{"artist_alias":"\uba54\ud0c8\ub9ac\uce74"},{"artist_alias":"Metallica"},{"artist_alias":"Metalica"}],"artist_rating":93,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}},{"music_genre":{"music_genre_id":50000061,"music_genre_parent_id":34,"music_genre_name":"Spoken Word","music_genre_name_extended":"Spoken Word","music_genre_vanity":"Spoken-Word"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/metallica","artist_vanity_id":"Metallica","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:50Z"}},{"artist":{"artist_id":24448740,"artist_mbid":"","artist_name":"Lang Lang","artist_name_translation_list":[],"artist_comment":"","artist_country":"","artist_alias_list":[{"artist_alias":"\u30e9\u30f3\u30e9\u30f3"},{"artist_alias":"Lang Lang"}],"artist_rating":35,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":5,"music_genre_parent_id":34,"music_genre_name":"Classical","music_genre_name_extended":"Classical","music_genre_vanity":"Classical"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Lang-Lang","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Lang-Lang?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-09-16T20:14:26Z"}}]},"updated_time":"2014-02-24T12:32:55Z"}},{"artist":{"artist_id":13806228,"artist_mbid":"","artist_name":"Lou Reed & Metallica","artist_name_translation_list":[],"artist_comment":"","artist_country":"","artist_alias_list":[],"artist_rating":19,"primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Lou-Reed-Metallica","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Lou-Reed-Metallica?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[{"artist":{"artist_id":1210,"artist_mbid":"9d1ebcfe-4c15-4d18-95d3-d919898638a1","artist_name":"Lou Reed","artist_name_translation_list":[{"artist_name_translation":{"language":"ZH","translation":"LOU REED"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u308b\u30fc \u308a\u30fc\u3069"},{"artist_alias":"LOU REED"},{"artist_alias":"Reed"},{"artist_alias":" Lou"},{"artist_alias":"Lou Red"},{"artist_alias":"Lou Ree"},{"artist_alias":"Lou Read"}],"artist_rating":62,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"secondary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":14,"music_genre_parent_id":34,"music_genre_name":"Pop","music_genre_name_extended":"Pop","music_genre_vanity":"Pop"}}]},"artist_twitter_url":"","artist_vanity_id":"Lou-Reed","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Lou-Reed?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:58Z"}},{"artist":{"artist_id":64,"artist_mbid":"65f4f0c5-ef9e-490c-aee3-909e7ae6b2ab","artist_name":"Metallica","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30e1\u30bf\u30ea\u30ab"}},{"artist_name_translation":{"language":"KO","translation":"\uba54\ud0c8\ub9ac\uce74"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30e1\u30bf\u30ea\u30ab"},{"artist_alias":"\uba54\ud0c8\ub9ac\uce74"},{"artist_alias":"Metallica"},{"artist_alias":"Metalica"}],"artist_rating":93,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}},{"music_genre":{"music_genre_id":50000061,"music_genre_parent_id":34,"music_genre_name":"Spoken Word","music_genre_name_extended":"Spoken Word","music_genre_vanity":"Spoken-Word"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/metallica","artist_vanity_id":"Metallica","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:50Z"}}]},"updated_time":"2013-12-24T12:15:04Z"}},{"artist":{"artist_id":24450857,"artist_mbid":"","artist_name":"Ray Davies & Metallica","artist_name_translation_list":[],"artist_comment":"","artist_country":"","artist_alias_list":[],"artist_rating":7,"primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Ray-Davies-Metallica","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Ray-Davies-Metallica?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[{"artist":{"artist_id":20070,"artist_mbid":"afac07f5-d4aa-43f4-bad3-6bc2bb474cba","artist_name":"Ray Davies","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30ec\u30a4\u30fb\u30c7\u30a4\u30d3\u30b9"}}],"artist_comment":"UK singer\/songwriter, member of The Kinks","artist_country":"GB","artist_alias_list":[{"artist_alias":"\u30ec\u30a4\u30fb\u30c7\u30a4\u30d3\u30b9"},{"artist_alias":"Ray Davies"},{"artist_alias":"R. Douglas Davies"},{"artist_alias":"R. Davis"},{"artist_alias":"Raymond Douglas Davies"}],"artist_rating":20,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Ray-Davies","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Ray-Davies?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:25:27Z"}},{"artist":{"artist_id":64,"artist_mbid":"65f4f0c5-ef9e-490c-aee3-909e7ae6b2ab","artist_name":"Metallica","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30e1\u30bf\u30ea\u30ab"}},{"artist_name_translation":{"language":"KO","translation":"\uba54\ud0c8\ub9ac\uce74"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30e1\u30bf\u30ea\u30ab"},{"artist_alias":"\uba54\ud0c8\ub9ac\uce74"},{"artist_alias":"Metallica"},{"artist_alias":"Metalica"}],"artist_rating":93,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}},{"music_genre":{"music_genre_id":50000061,"music_genre_parent_id":34,"music_genre_name":"Spoken Word","music_genre_name_extended":"Spoken Word","music_genre_vanity":"Spoken-Word"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/metallica","artist_vanity_id":"Metallica","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:50Z"}}]},"updated_time":"2013-09-17T17:41:27Z"}},{"artist":{"artist_id":26542960,"artist_mbid":"","artist_name":"Metallica & Ozzy Osbourne","artist_name_translation_list":[],"artist_comment":"","artist_country":"","artist_alias_list":[],"artist_rating":8,"primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Metallica-Ozzy-Osbourne","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica-Ozzy-Osbourne?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[{"artist":{"artist_id":64,"artist_mbid":"65f4f0c5-ef9e-490c-aee3-909e7ae6b2ab","artist_name":"Metallica","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30e1\u30bf\u30ea\u30ab"}},{"artist_name_translation":{"language":"KO","translation":"\uba54\ud0c8\ub9ac\uce74"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30e1\u30bf\u30ea\u30ab"},{"artist_alias":"\uba54\ud0c8\ub9ac\uce74"},{"artist_alias":"Metallica"},{"artist_alias":"Metalica"}],"artist_rating":93,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}},{"music_genre":{"music_genre_id":50000061,"music_genre_parent_id":34,"music_genre_name":"Spoken Word","music_genre_name_extended":"Spoken Word","music_genre_vanity":"Spoken-Word"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/metallica","artist_vanity_id":"Metallica","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:50Z"}},{"artist":{"artist_id":115,"artist_mbid":"8aa5b65a-5b3c-4029-92bf-47a544356934","artist_name":"Ozzy Osbourne","artist_name_translation_list":[{"artist_name_translation":{"language":"ES","translation":"Ozzy Osbourne"}},{"artist_name_translation":{"language":"FI","translation":"Ozzy Osbourne"}},{"artist_name_translation":{"language":"JA","translation":"\u30aa\u30b8\u30fc\u30fb\u30aa\u30ba\u30dc\u30fc\u30f3"}},{"artist_name_translation":{"language":"ZH","translation":"\u5967\u8332\u5967\u65af\u670b"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"Ozzy Osbourne"},{"artist_alias":"\u30aa\u30b8\u30fc\u30fb\u30aa\u30ba\u30dc\u30fc\u30f3"},{"artist_alias":"\u5967\u8332\u5967\u65af\u670b"},{"artist_alias":"John Michael Osbourne"},{"artist_alias":"Osbourne"},{"artist_alias":" Ozzy"},{"artist_alias":"Ozzy Ozbourne"},{"artist_alias":"Ozzy Ozborne"},{"artist_alias":"Ozzy Osborne"},{"artist_alias":"John Osbourne"},{"artist_alias":"Ozzy"}],"artist_rating":74,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"secondary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":16,"music_genre_parent_id":34,"music_genre_name":"Soundtrack","music_genre_name_extended":"Soundtrack","music_genre_vanity":"Soundtrack"}}]},"artist_twitter_url":"https:\/\/twitter.com\/OfficialOzzy","artist_vanity_id":"Ozzy-Osbourne","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Ozzy-Osbourne?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-12-19T08:15:09Z"}}]},"updated_time":"2014-02-21T10:58:30Z"}},{"artist":{"artist_id":27262620,"artist_mbid":"","artist_name":"Metallica feat. A Light In the Black, Tarot Woman, Stargazer & Kill the King","artist_name_translation_list":[],"artist_comment":"","artist_country":"","artist_alias_list":[],"artist_rating":22,"primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Metallica-feat-A-Light-In-the-Black-Tarot-Woman-Stargazer-Kill-the-King","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica-feat-A-Light-In-the-Black-Tarot-Woman-Stargazer-Kill-the-King?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[{"artist":{"artist_id":64,"artist_mbid":"65f4f0c5-ef9e-490c-aee3-909e7ae6b2ab","artist_name":"Metallica","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30e1\u30bf\u30ea\u30ab"}},{"artist_name_translation":{"language":"KO","translation":"\uba54\ud0c8\ub9ac\uce74"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30e1\u30bf\u30ea\u30ab"},{"artist_alias":"\uba54\ud0c8\ub9ac\uce74"},{"artist_alias":"Metallica"},{"artist_alias":"Metalica"}],"artist_rating":93,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}},{"music_genre":{"music_genre_id":50000061,"music_genre_parent_id":34,"music_genre_name":"Spoken Word","music_genre_name_extended":"Spoken Word","music_genre_vanity":"Spoken-Word"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/metallica","artist_vanity_id":"Metallica","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Metallica?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:50Z"}},{"artist":{"artist_id":36382,"artist_mbid":"dc613cc8-5030-4757-af48-13f73f6222de","artist_name":"Stargazer","artist_name_translation_list":[],"artist_comment":"ambient lounge artist","artist_country":"","artist_alias_list":[],"artist_rating":15,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":17,"music_genre_parent_id":34,"music_genre_name":"Dance","music_genre_name_extended":"Dance","music_genre_vanity":"Dance"}}]},"secondary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"artist_twitter_url":"","artist_vanity_id":"Stargazer","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Stargazer?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2013-06-25T17:12:24Z"}}]},"updated_time":"2014-03-08T11:09:20Z"}},{"artist":{"artist_id":26749502,"artist_mbid":"","artist_name":"Made famous by Metallica","artist_name_translation_list":[],"artist_comment":"","artist_country":"","artist_alias_list":[],"artist_rating":10,"primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Made-famous-by-Metallica","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Made-famous-by-Metallica?utm_source=application&utm_campaign=api&utm_medium=","artist_credits":{"artist_list":[]},"updated_time":"2014-02-26T14:16:21Z"}}]}}}|;
my $artist_albums_get_response = q|{"message":{"header":{"status_code":200,"execute_time":0.10236310958862,"available":388},"body":{"album_list":[{"album":{"album_id":13763876,"album_mbid":"b0e6f2b4-810a-3693-9fbf-13e9f8471b38","album_name":"\u2026and Justice for All","album_rating":100,"album_track_count":9,"album_release_date":"1988-09-15","album_release_type":"Album","artist_id":64,"artist_name":"Metallica","primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"album_pline":"","album_copyright":"","album_label":"","album_vanity_id":"Metallica\/\u2026and-Justice-for-All-3","album_edit_url":"https:\/\/community.musixmatch.com\/album\/Metallica\/\u2026and-Justice-for-All-3?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","updated_time":"2013-06-27T20:38:55Z","album_coverart_100x100":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956.jpg","album_coverart_350x350":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_350_350.jpg","album_coverart_500x500":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_500_500.jpg","album_coverart_800x800":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_800_800.jpg"}},{"album":{"album_id":13818666,"album_mbid":"cb2704e5-b7a3-343e-918f-aa9cd3489170","album_name":"\u2026and Justice for All","album_rating":0,"album_track_count":9,"album_release_date":"1988","album_release_type":"Album","artist_id":64,"artist_name":"Metallica","primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"album_pline":"","album_copyright":"","album_label":"","album_vanity_id":"Metallica\/\u2026and-Justice-for-All-7","album_edit_url":"https:\/\/community.musixmatch.com\/album\/Metallica\/\u2026and-Justice-for-All-7?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","updated_time":"2013-09-25T03:18:45Z","album_coverart_100x100":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/1\/4\/0\/6\/4\/26460416.jpg","album_coverart_350x350":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/1\/4\/0\/6\/4\/26460416_350_350.jpg","album_coverart_500x500":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/1\/4\/0\/6\/4\/26460416_500_500.jpg","album_coverart_800x800":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/1\/4\/0\/6\/4\/26460416_800_800.jpg"}},{"album":{"album_id":10310702,"album_mbid":"0907c082-a0b2-4c7f-8a3d-a003aa30f764","album_name":"\u2026and Justice for All","album_rating":0,"album_track_count":10,"album_release_date":"1988-09-14","album_release_type":"Album","artist_id":64,"artist_name":"Metallica","primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"album_pline":"","album_copyright":"","album_label":"","album_vanity_id":"Metallica\/\u2026and-Justice-for-All","album_edit_url":"https:\/\/community.musixmatch.com\/album\/Metallica\/\u2026and-Justice-for-All?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","updated_time":"2013-07-16T17:41:22Z","album_coverart_100x100":"http:\/\/static.musixmatch.com\/images-storage\/albums\/5\/0\/1\/3\/9\/9\/25993105.jpg","album_coverart_350x350":"http:\/\/static.musixmatch.com\/images-storage\/albums\/5\/0\/1\/3\/9\/9\/25993105_350_350.jpg","album_coverart_500x500":"http:\/\/static.musixmatch.com\/images-storage\/albums\/5\/0\/1\/3\/9\/9\/25993105_500_500.jpg","album_coverart_800x800":""}},{"album":{"album_id":13825586,"album_mbid":"50bfdaeb-19d9-3df4-b1e0-2bf9fa7fce37","album_name":"\u2026and Justice for All","album_rating":100,"album_track_count":9,"album_release_date":"1995","album_release_type":"Album","artist_id":64,"artist_name":"Metallica","primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"album_pline":"","album_copyright":"","album_label":"","album_vanity_id":"Metallica\/\u2026and-Justice-for-All-8","album_edit_url":"https:\/\/community.musixmatch.com\/album\/Metallica\/\u2026and-Justice-for-All-8?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","updated_time":"2013-06-27T20:55:57Z","album_coverart_100x100":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956.jpg","album_coverart_350x350":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_350_350.jpg","album_coverart_500x500":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_500_500.jpg","album_coverart_800x800":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_800_800.jpg"}},{"album":{"album_id":13778516,"album_mbid":"4e2b6e3c-1568-3ecd-ac6e-a77889cffdf3","album_name":"\u2026and Justice for All","album_rating":100,"album_track_count":10,"album_release_date":"2003-11-06","album_release_type":"Album","artist_id":64,"artist_name":"Metallica","primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"album_pline":"","album_copyright":"","album_label":"","album_vanity_id":"Metallica\/\u2026and-Justice-for-All-4","album_edit_url":"https:\/\/community.musixmatch.com\/album\/Metallica\/\u2026and-Justice-for-All-4?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","updated_time":"2013-06-27T20:43:07Z","album_coverart_100x100":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956.jpg","album_coverart_350x350":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_350_350.jpg","album_coverart_500x500":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_500_500.jpg","album_coverart_800x800":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_800_800.jpg"}},{"album":{"album_id":13796955,"album_mbid":"e10884cc-d791-3a78-a801-03afc8a89ba6","album_name":"\u2026and Justice for All","album_rating":100,"album_track_count":10,"album_release_date":"2006-08-09","album_release_type":"Album","artist_id":64,"artist_name":"Metallica","primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"album_pline":"","album_copyright":"","album_label":"","album_vanity_id":"Metallica\/\u2026and-Justice-for-All-5","album_edit_url":"https:\/\/community.musixmatch.com\/album\/Metallica\/\u2026and-Justice-for-All-5?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","updated_time":"2013-06-27T20:48:04Z","album_coverart_100x100":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956.jpg","album_coverart_350x350":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_350_350.jpg","album_coverart_500x500":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_500_500.jpg","album_coverart_800x800":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_800_800.jpg"}},{"album":{"album_id":14256732,"album_mbid":"94651f3a-0b6f-46f4-81e5-e4c07cca3f01","album_name":"\u2026and Justice for All","album_rating":100,"album_track_count":9,"album_release_date":"1988","album_release_type":"Album","artist_id":64,"artist_name":"Metallica","primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"album_pline":"","album_copyright":"","album_label":"","album_vanity_id":"Metallica\/\u2026and-Justice-for-All-11","album_edit_url":"https:\/\/community.musixmatch.com\/album\/Metallica\/\u2026and-Justice-for-All-11?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","updated_time":"2013-06-27T21:48:34Z","album_coverart_100x100":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956.jpg","album_coverart_350x350":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_350_350.jpg","album_coverart_500x500":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_500_500.jpg","album_coverart_800x800":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/9\/3\/8\/6\/11683956_800_800.jpg"}},{"album":{"album_id":10667102,"album_mbid":"bebfe3a4-e069-4f22-b584-4de6359de44f","album_name":"...And Justice for All","album_rating":0,"album_track_count":11,"album_release_date":"2008-08-18","album_release_type":"Album","artist_id":64,"artist_name":"Metallica","primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"secondary_genres":{"music_genre_list":[]},"album_pline":"2008 Metallica, under exclusive licence to Mercury Records Limited","album_copyright":"2008 Metallica","album_label":"Virgin EMI","album_vanity_id":"Metallica\/And-Justice-for-All-2","album_edit_url":"https:\/\/community.musixmatch.com\/album\/Metallica\/And-Justice-for-All-2?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","updated_time":"2014-01-11T10:39:50Z","album_coverart_100x100":"http:\/\/static.musixmatch.com\/images-storage\/albums\/3\/6\/0\/7\/1\/5\/26517063.jpg","album_coverart_350x350":"http:\/\/static.musixmatch.com\/images-storage\/albums\/3\/6\/0\/7\/1\/5\/26517063_350_350.jpg","album_coverart_500x500":"http:\/\/static.musixmatch.com\/images-storage\/albums\/3\/6\/0\/7\/1\/5\/26517063_500_500.jpg","album_coverart_800x800":""}},{"album":{"album_id":10275954,"album_mbid":"da53e497-8c61-4d4a-a29b-a5b53d86ccb7","album_name":"...And Justice for All","album_rating":0,"album_track_count":9,"album_release_date":"1988-08-25","album_release_type":"Album","artist_id":64,"artist_name":"Metallica","primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"secondary_genres":{"music_genre_list":[]},"album_pline":"1988 Blackened Recordings","album_copyright":"1988 Blackened Recordings","album_label":"Blackened Recordings","album_vanity_id":"Metallica\/And-Justice-for-All","album_edit_url":"https:\/\/community.musixmatch.com\/album\/Metallica\/And-Justice-for-All?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","updated_time":"2014-01-28T10:01:50Z","album_coverart_100x100":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/2\/7\/1\/5\/26517256.jpg","album_coverart_350x350":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/2\/7\/1\/5\/26517256_350_350.jpg","album_coverart_500x500":"http:\/\/static.musixmatch.com\/images-storage\/albums\/6\/5\/2\/7\/1\/5\/26517256_500_500.jpg","album_coverart_800x800":""}},{"album":{"album_id":13804459,"album_mbid":"fce9462d-8444-334d-84d4-2bbf1edfe9b5","album_name":"\u2026and Justice for All","album_rating":0,"album_track_count":9,"album_release_date":"1988-10","album_release_type":"Album","artist_id":64,"artist_name":"Metallica","primary_genres":{"music_genre_list":[]},"secondary_genres":{"music_genre_list":[]},"album_pline":"","album_copyright":"","album_label":"","album_vanity_id":"Metallica\/\u2026and-Justice-for-All-6","album_edit_url":"https:\/\/community.musixmatch.com\/album\/Metallica\/\u2026and-Justice-for-All-6?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","updated_time":"2013-09-09T01:19:44Z","album_coverart_100x100":"http:\/\/static.musixmatch.com\/images-storage\/albums\/2\/8\/8\/7\/5\/2\/26257882.jpg","album_coverart_350x350":"http:\/\/static.musixmatch.com\/images-storage\/albums\/2\/8\/8\/7\/5\/2\/26257882_350_350.jpg","album_coverart_500x500":"http:\/\/static.musixmatch.com\/images-storage\/albums\/2\/8\/8\/7\/5\/2\/26257882_500_500.jpg","album_coverart_800x800":""}}]}}}|;
my $artist_related_get_response = q|{"message":{"header":{"status_code":200,"available":10,"execute_time":0.03859281539917},"body":{"artist_list":[{"artist":{"artist_id":105,"artist_mbid":"67f66c07-6e61-4026-ade5-7e782fad3a5d","artist_name":"Foo Fighters","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30d5\u30fc\u30fb\u30d5\u30a1\u30a4\u30bf\u30fc\u30ba"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30d5\u30fc\u30fb\u30d5\u30a1\u30a4\u30bf\u30fc\u30ba"},{"artist_alias":"Foo Fighters"},{"artist_alias":"FooFighters"}],"artist_rating":84,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":20,"music_genre_parent_id":34,"music_genre_name":"Alternative","music_genre_name_extended":"Alternative","music_genre_vanity":"Alternative"}}]},"secondary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"artist_twitter_url":"https:\/\/twitter.com\/foofighters","artist_vanity_id":"Foo-Fighters","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Foo-Fighters?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:50Z"}},{"artist":{"artist_id":116,"artist_mbid":"83b9cbe7-9857-49e2-ab8e-b57b01038103","artist_name":"Pearl Jam","artist_name_translation_list":[{"artist_name_translation":{"language":"ZH","translation":"\u73cd\u73e0\u679c\u91ac\u5408\u5531\u5718"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u73cd\u73e0\u679c\u91ac\u5408\u5531\u5718"},{"artist_alias":"Mookie Blaylock"}],"artist_rating":84,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":20,"music_genre_parent_id":34,"music_genre_name":"Alternative","music_genre_name_extended":"Alternative","music_genre_vanity":"Alternative"}}]},"secondary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"artist_twitter_url":"https:\/\/twitter.com\/PearlJam","artist_vanity_id":"Pearl-Jam","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Pearl-Jam?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:49Z"}},{"artist":{"artist_id":118,"artist_mbid":"5eecaf18-02ec-47af-a4f2-7831db373419","artist_name":"Queen","artist_name_translation_list":[],"artist_comment":"US rapper","artist_country":"","artist_alias_list":[{"artist_alias":"\u30af\u30a4\u30fc\u30f3"},{"artist_alias":"\u5973\u738b"}],"artist_rating":89,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Queen","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Queen?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","artist_credits":{"artist_list":[]},"updated_time":"2013-11-18T19:15:06Z"}},{"artist":{"artist_id":121,"artist_mbid":"a3cb23fc-acd3-4ce0-8f36-1e5aa6a18432","artist_name":"U2","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"U2"}},{"artist_name_translation":{"language":"ZH","translation":"U2"}}],"artist_comment":"Irish rock band","artist_country":"IE","artist_alias_list":[{"artist_alias":"U2"},{"artist_alias":"U2 Kiwi"},{"artist_alias":"U2 - Until The"}],"artist_rating":84,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/u2com","artist_vanity_id":"U2","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/U2?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:51Z"}},{"artist":{"artist_id":780,"artist_mbid":"f5aca88c-e3c1-4bc2-af33-68a9a9f7b56a","artist_name":"Killing Joke","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30ad\u30ea\u30f3\u30b0\u30fb\u30b8\u30e7\u30fc\u30af"}}],"artist_comment":"","artist_country":"GB","artist_alias_list":[{"artist_alias":"\u30ad\u30ea\u30f3\u30b0\u30fb\u30b8\u30e7\u30fc\u30af"},{"artist_alias":"Killing Joke"}],"artist_rating":45,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"","artist_vanity_id":"Killing-Joke","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Killing-Joke?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:54Z"}},{"artist":{"artist_id":2683,"artist_mbid":"bdacc37b-8633-4bf8-9dd5-4662ee651aec","artist_name":"Slayer","artist_name_translation_list":[],"artist_comment":"US thrash metal band","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30b9\u30ec\u30a4\u30e4\u30fc"}],"artist_rating":74,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/slayer","artist_vanity_id":"Slayer","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Slayer?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:25:01Z"}},{"artist":{"artist_id":6399,"artist_mbid":"b616d6f0-ec1f-4c69-8a79-12a97ece7372","artist_name":"Anthrax","artist_name_translation_list":[],"artist_comment":"American heavy metal band","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30a2\u30f3\u30b9\u30e9\u30c4\u30af\u30b9"},{"artist_alias":"Anthrax"},{"artist_alias":"Antrax"}],"artist_rating":64,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/Anthrax","artist_vanity_id":"Anthrax","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Anthrax?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:25:05Z"}},{"artist":{"artist_id":6559,"artist_mbid":"936addc3-91aa-49de-8ec0-0dc186de151f","artist_name":"Misfits","artist_name_translation_list":[],"artist_comment":"New Jersey punk band","artist_country":"US","artist_alias_list":[{"artist_alias":"The Misfits"}],"artist_rating":61,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":16,"music_genre_parent_id":34,"music_genre_name":"Soundtrack","music_genre_name_extended":"Soundtrack","music_genre_vanity":"Soundtrack"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/themisfits","artist_vanity_id":"Misfits","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Misfits?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:25:05Z"}},{"artist":{"artist_id":7521,"artist_mbid":"8bfac288-ccc5-448d-9573-c33ea2aa5c30","artist_name":"Red Hot Chili Peppers","artist_name_translation_list":[{"artist_name_translation":{"language":"EN","translation":"Red Hot Chili Peppers"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"Red Hot Chili Peppers"},{"artist_alias":"\u30ec\u30c3\u30c9\u30fb\u30db\u30c3\u30c8\u30fb\u30c1\u30ea\u30fb\u30da\u30c3\u30d1\u30fc\u30ba"},{"artist_alias":"Red Hot Chilli Peppers"},{"artist_alias":"The Red Hot Chili Peppers"},{"artist_alias":"RHCP"},{"artist_alias":"Red Hot Chilly Peppers"},{"artist_alias":"The Red Hot Chilli Peppers"}],"artist_rating":91,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":20,"music_genre_parent_id":34,"music_genre_name":"Alternative","music_genre_name_extended":"Alternative","music_genre_vanity":"Alternative"}}]},"secondary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"artist_twitter_url":"https:\/\/twitter.com\/chilipeppers","artist_vanity_id":"Red-Hot-Chili-Peppers","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Red-Hot-Chili-Peppers?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:25:06Z"}},{"artist":{"artist_id":14326951,"artist_mbid":"eeb1195b-f213-4ce1-b28c-8565211f8e43","artist_name":"Guns N' Roses","artist_name_translation_list":[{"artist_name_translation":{"language":"JA","translation":"\u30ac\u30f3\u30ba\u30fb\u30a2\u30f3\u30c9\u30fb\u30ed\u30fc\u30bc\u30ba"}}],"artist_comment":"","artist_country":"US","artist_alias_list":[{"artist_alias":"\u30ac\u30f3\u30ba\u30fb\u30a2\u30f3\u30c9\u30fb\u30ed\u30fc\u30bc\u30ba"},{"artist_alias":"Guns N' Roses"},{"artist_alias":"Guns and Roses"},{"artist_alias":"Guns -N- Roses"},{"artist_alias":"Guns 'N' Roses"},{"artist_alias":"Guns'N Roses"},{"artist_alias":"Guns'N'Roses"},{"artist_alias":"GNR"},{"artist_alias":"Guns\u00b4n Roses"},{"artist_alias":"Gn'R"},{"artist_alias":"Guns 'N Roses"},{"artist_alias":"Guns N'Roses"},{"artist_alias":"Guns N\u00b4 Roses"},{"artist_alias":"Guns N Roses"},{"artist_alias":"Guns & Roses"}],"artist_rating":89,"primary_genres":{"music_genre_list":[{"music_genre":{"music_genre_id":21,"music_genre_parent_id":34,"music_genre_name":"Rock","music_genre_name_extended":"Rock","music_genre_vanity":"Rock"}}]},"secondary_genres":{"music_genre_list":[]},"artist_twitter_url":"https:\/\/twitter.com\/gunsnroses","artist_vanity_id":"Guns-N'-Roses","artist_edit_url":"https:\/\/community.musixmatch.com\/artist\/Guns-N'-Roses?utm_source=application&utm_campaign=api&utm_medium=hrhm.info","artist_credits":{"artist_list":[]},"updated_time":"2013-11-05T11:24:54Z"}}]}}}|;

my $musixmatch = new WebService::MusixMatch;

$Mock_furl_http->mock(
    request => sub {( 1, 200, 'OK', $content_type, $artist_get_response,)},
);

my $data = $musixmatch->artist_get(artist_id => 64);
is $data->{message}{header}{status_code}, 200;

$Mock_furl_http->mock(
    request => sub {( 1, 200, 'OK', $content_type, $artist_search_response,)},
);
my $data = $musixmatch->artist_search(q_artist => 'Metallica');
is $data->{message}{header}{status_code}, 200;
is $data->{message}{body}{artist_list}[0]{artist}{artist_name}, 'Metallica';
is $data->{message}{body}{artist_list}[0]{artist}{artist_twitter_url}, 'https://twitter.com/metallica';

$Mock_furl_http->mock(
    request => sub {( 1, 200, 'OK', $content_type, $artist_albums_get_response,)},
);
is $data->{message}{header}{status_code}, 200;
my $data = $musixmatch->artist_albums_get(artist_id => 64);

$Mock_furl_http->mock(
    request => sub {( 1, 200, 'OK', $content_type, $artist_related_get_response,)},
);
is $data->{message}{header}{status_code}, 200;
my $data = $musixmatch->artist_related_get(artist_id => 64);


done_testing;

